webshims.register("jmebase",function(e,t,i,a,s){"use strict";var n={},r={},o=Array.prototype.slice,l=0,d=e.extend({selector:".mediaplayer"},t.cfg.mediaelement.jme),u=d.selector;t.cfg.mediaelement.jme=d,e.jme||(e.jme={}),e.extend(e.jme,{pluginsClasses:[],pluginsSel:"",plugins:{},props:n,fns:r,data:function(t,i,a){var n=e(t).data("jme")||e.data(t,"jme",{});return a===s?i?n[i]:n:(n[i]=a,void 0)},runPlugin:function(t){l&&e(document.querySelectorAll(u)).each(function(){var i=this.querySelectorAll(t);i.length&&e(this).jmeFn("addControls",i)})},registerPlugin:function(t,i){this.plugins[t]=i,i.nodeName||(i.nodeName=""),i.className||(i.className=t),this.pluginsClasses.push("."+i.className),this.pluginsSel=this.pluginsClasses.join(", "),d[t]=e.extend(i.options||{},d[t]),d[t]&&d[t].text?i.text=d[t].text:d.i18n&&d.i18n[t]&&(i.text=d.i18n[t]),this.runPlugin("."+i.className)},configmenuPlugins:{},addToConfigmenu:function(e,t){this.configmenuPlugins[e]=t},defineMethod:function(e,t){r[e]=t},defineProp:function(t,i){i||(i={}),i.set||(i.set=i.readonly?function(){throw t+" is readonly"}:e.noop),i.get||(i.get=function(i){return e.jme.data(i,t)}),n[t]=i},prop:function(t,i,a){if(!n[i])return e.prop(t,i,a);if(a===s)return n[i].get(t);var r=n[i].set(t,a);r===s&&(r=a),"noDataSet"!=r&&e.jme.data(t,i,r)}}),e.fn.jmeProp=function(t,i){return e.access(this,e.jme.prop,t,i,arguments.length>1)},e.fn.jmeFn=function(i){var a,n=o.call(arguments,1);return this.each(function(){return e.jme.data(this).media||(e(this).closest(u).jmePlayer(),t.warn("jmeFn called to early or on wrong element!")),a=(r[i]||e.prop(this,i)).apply(this,n),a!==s?!1:void 0}),a!==s?a:this};var c={emptied:1,pause:1},p={canplay:1,canplaythrough:1};e.jme.initJME=function(t,i){l+=e(t.querySelectorAll(u)).add(i.filter(u)).jmePlayer().length},e.jme.getDOMList=function(t){var i=[];return t||(t=[]),"string"==typeof t&&(t=t.split(" ")),e.each(t,function(e,t){t&&(t=document.getElementById(t),t&&i.push(t))}),i},e.jme.getButtonText=function(t,i){var a,s,n=function(n){s!==n&&(s=n,t.removeClass(i[n?0:1]).addClass(i[n]),a&&(t.prop("checked",!!n),(t.data("checkboxradio")||{refresh:e.noop}).refresh()))};return t.is('[type="checkbox"], [type="radio"]')?(t.prop("checked",function(){return this.defaultChecked}),a=!0):t.is("a")&&t.on("click",function(e){e.preventDefault()}),n},e.fn.jmePlayer=function(){return this.each(function(){var t,i,a,s,n,r,o,l=e("audio, video",this).eq(0),u=e(this),m=e.jme.data(this),h=e.jme.data(l[0]);u.addClass(l.prop("nodeName").toLowerCase()+"player"),h.player=u,h.media=l,m.media||(o=function(){u[0].className=u[0].className},a=function(){l.off("canplay",i),clearTimeout(s)},i=function(){var e=l.prop("paused")?"idle":"playing";u.attr("data-state",e)},t=function(t){var d,m,h=t.type;a(),p[h]&&"waiting"!=n||r&&"emptied"==h||("ended"==h||e.prop(this,"ended")?h="ended":"waiting"==h?e.prop(this,"readyState")>2?h="":(s=setTimeout(function(){l.prop("readyState")>2&&i()},9),l.on("canPlay",i)):c[h]?h="idle":(d=e.prop(this,"readyState"),m=e.prop(this,"paused"),h=!m&&3>d?"waiting":!m&&d>2?"playing":"idle"),"idle"==h&&u._seekpause&&(h=!1),h&&(n=h,u.attr("data-state",h),setTimeout(o)))},m.media=l,m.player=u,l.on("ended emptied play",function(){var e,t=function(){r=!1},i=function(){a(),l.jmeFn("pause"),d.noReload||!l.prop("ended")||!l.prop("paused")||l.prop("autoplay")||l.prop("loop")||l.hasClass("no-reload")||(r=!0,l.jmeFn("load"),u.attr("data-state","ended"),setTimeout(t))};return function(t){clearTimeout(e),"ended"!=t.type||d.noReload||l.prop("autoplay")||l.prop("loop")||l.hasClass("no-reload")||(e=setTimeout(i))}}()).on("emptied waiting canplay canplaythrough playing ended pause mediaerror",t).on("volumechange updateJMEState",function(){var t=e.prop(this,"volume");u[!t||e.prop(this,"muted")?"addClass":"removeClass"]("state-muted"),t=.01>t?"no":.36>t?"low":.7>t?"medium":"high",u.attr("data-volume",t)}),e.jme.pluginsSel&&u.jmeFn("addControls",e(u[0].querySelectorAll(e.jme.pluginsSel))),t&&l.on("updateJMEState",t).triggerHandler("updateJMEState"))})},e.jme.defineProp("isPlaying",{get:function(t){return!e.prop(t,"ended")&&!e.prop(t,"paused")&&e.prop(t,"readyState")>1&&!e.data(t,"mediaerror")},readonly:!0}),e.jme.defineProp("player",{readonly:!0}),e.jme.defineProp("media",{readonly:!0}),e.jme.defineProp("srces",{get:function(t){var i,a=e.jme.data(t),s=a.media.prop("src");return s?[{src:s}]:i=e.map(e("source",a.media).get(),function(t){var i,a,s={src:e.prop(t,"src")},n=t.attributes;for(i=0,a=n.length;a>i;i++)"specified"in n[i]&&!n[i].specified||(s[n[i].nodeName]=n[i].nodeValue);return s})},set:function(t,i){var a=e.jme.data(t),s=function(t,i){"string"==typeof i&&(i={src:i}),e(document.createElement("source")).attr(i).appendTo(a.media)};return a.media.removeAttr("src").find("source").remove(),e.isArray(i)?e.each(i,s):s(0,i),a.media.jmeFn("load"),"noDataSet"}}),e.jme.defineMethod("togglePlay",function(){e(this).jmeFn(n.isPlaying.get(this)?"pause":"play")}),e.jme.defineMethod("addControls",function(t){var i=e.jme.data(this)||{};if(i.media){var a=e.jme.data(i.player[0],"controlElements")||e([]);t=e(t),e.jme.pluginsSel&&(t=t.find(e.jme.pluginsSel).add(t.filter(e.jme.pluginsSel))),t.length&&(e.each(e.jme.plugins,function(a,s){var n,r,o,l,d=t.filter("."+s.className);for(o=0;o<d.length;o++)if(n=e(d[o]),r=e.jme.data(d[o]),r.player=i.player,r.media=i.media,!r._rendered){if(r._rendered=!0,s.options)for(l in s.options)l in r||(r[l]=s.options[l]);s._create(n,i.media,i.player,r)}}),e.jme.data(i.player[0],"controlElements",a.add(t)),i.player.triggerHandler("controlsadded"))}}),t.ready("DOM mediaelement",function(){t.isReady("jme",!0),t.addReady(e.jme.initJME),t.isReady("jme-base",!0),t.cfg.debug!==!1&&document.getElementsByTagName("video").length&&!document.querySelector(u)&&t.warn("found video element but video wasn't wrapped inside a ."+u+" element. Will not add control UI")})}),webshims.register("mediacontrols",function(e,t,i){"use strict";var a=t.cfg.mediaelement.jme,s=a.selector,n=e.jme,r='<div class="{%class%}"></div>',o='<button class="{%class%}" type="button" aria-label="{%text%}"></button>',l='<div class="{%class%} media-range" aria-label="{%text%}"></div>',d='<div  class="{%class%}">00:00</div>',u=function(){var e,t="";if(i.Audio)try{e=new Audio,e.volume=.55,t=.55==Math.round(100*e.volume)/100?"":" no-volume-api"}catch(a){}return t}(),c=function(){var e={},i=/\{\{(.+?)\}\}/gim;return function(s,o){return s||(s=a.barTemplate),(!e[s]||o)&&(e[s]=s.replace(i,function(e,i){var a=n.plugins[i];return a?(a.structure||(t.warn("no structure option provided for plugin: "+i+". Fallback to standard div"),a.structure=r),a.structure.replace("{%class%}",i).replace("{%text%}",a.text||"")):e})),e[s]||""}}(),p=/iP(hone|od|ad)/i.test(navigator.platform)&&parseInt((navigator.appVersion.match(/OS (\d+)_\d+/)||["","8"])[1],10)<7,m=function(){m.loaded||(m.loaded=!0,t.loader.loadList(["mediacontrols-lazy","range-ui"]))},h=function(i){i||(i="_create");var a=function(s,n){var r=this,o=arguments;m(),t.ready("mediacontrols-lazy",function(){return a!=r[i]&&e.data(n[0])?r[i].apply(r,o):(t.error("stop too much recursion"),void 0)})};return a};t.loader.addModule("mediacontrols-lazy",{src:"jme/mediacontrols-lazy"});var f={_create:h()};n.plugins.useractivity=f,n.defineProp("controlbar",{set:function(s,r){r=!!r;var o,l,d=n.data(s),u=e("div.jme-mediaoverlay, div.jme-controlbar",d.player),m="";if(r&&!u[0])if(d._controlbar)d._controlbar.appendTo(d.player);else{p&&(d.media.removeAttr("controls"),d.media.mediaLoad()),d.media.prop("controls",!1),m=c(),d._controlbar=e(a.barStructure),u=d._controlbar.find("div.jme-cb-box").addClass("media-controls"),o=d._controlbar.filter(".jme-media-overlay"),o=o.add(u),e(m).appendTo(u),d._controlbar.appendTo(d.player),d.player.jmeFn("addControls",o),l=function(){var e={},t=[{size:290,name:"xx-small",names:"s xs xxs"},{size:380,name:"x-small",names:"s xs"},{size:478,name:"small",names:"s"},{size:756,name:"medium",names:"m"},{size:1024,name:"large",names:"l"},{size:Number.MAX_VALUE,name:"x-large",names:"l xl"}],i=t.length;return function(){var a,s=0,n=d.player.outerWidth(),r=Math.max(parseInt(d.player.css("fontSize"),10)||16,13);for(n*=16/r;i>s;s++)if(t[s].size>=n){a=t[s];break}e.name!=a.name&&(e=a,d.player.attr("data-playersize",a.name),d.player.attr("data-playersizes",a.names))}}();var h=e('<div class="ws-poster" />').insertAfter(d.media),g=function(){var e,t,a,s=i.swfmini&&swfmini.hasFlashPlayerVersion("10.0.3"),n=/youtube\.com\/[watch\?|v\/]+/i,r=d.media.prop("paused");return r&&d.player.addClass("initial-state"),"backgroundSize"in h[0].style||d.player.addClass("no-backgroundsize"),d.media.on("playing waiting seeked seeking",function(){r&&(r=!1,d.player.removeClass("initial-state"))}),function(){var i=d.media.attr("poster"),o=!!i,l=d.media.prop("currentSrc")||"",u=n.test(l),c=s&&o?!1:u;!o&&u&&(i=l.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i)||"",i&&(i="https://img.youtube.com/vi/"+i[1]+"/0.jpg",o=!!i)),a!==i&&(a=i,h[0].style.backgroundImage=i?"url("+i+")":""),e!==o&&(e=o,d.player[o?"removeClass":"addClass"]("no-poster")),d.media.prop("paused")&&(d.player.addClass("initial-state"),r=!0),t!==c&&(t=c,d.player[c?"addClass":"removeClass"]("has-ytposter"))}}();f._create(d.player,d.media,d.player),d.media.on("emptied loadstart",function(){setTimeout(g)}),l(),g(),t.ready("dom-support",function(){d.player.onWSOff("updateshadowdom",l),o.add(d._controlbar).add(h).addClass(t.shadowClass),t.addShadowDom()})}else r||u.detach();return r}}),n.registerPlugin("play-pause",{structure:o,text:"play / pause",_create:h()}),n.registerPlugin("mute-unmute",{structure:o,text:"mute / unmute",_create:h()}),n.registerPlugin("jme-media-overlay",{_create:h()}),n.registerPlugin("volume-slider",{structure:l,text:"volume level",_create:h()}),n.registerPlugin("time-slider",{structure:l,options:{format:["mm","ss"]},text:"time position",_create:h()}),n.defineProp("format",{set:function(t,i){e.isArray(i)||(i=i.split(":"));var a=n.data(t);return a.format=i,e(t).triggerHandler("updatetimeformat"),a.player.triggerHandler("updatetimeformat"),"noDataSet"}}),n.registerPlugin("duration-display",{structure:d,options:{format:"mm:ss"},_create:h()}),n.defineProp("countdown",{set:function(t,i){var a=n.data(t);return a.countdown=!!i,e(t).triggerHandler("updatetimeformat"),a.player.triggerHandler("updatetimeformat"),"noDataSet"}}),n.registerPlugin("currenttime-display",{structure:d,options:{format:"mm:ss",countdown:!1},_create:h()}),n.registerPlugin("poster-display",{structure:"<div />",options:{},_create:h()}),n.registerPlugin("fullscreen",{options:{fullscreen:!0,autoplayfs:!1},structure:o,text:"enter fullscreen / exit fullscreen",_create:h()}),n.registerPlugin("mediaconfigmenu",{structure:o,text:"configuration",_create:h()}),n.registerPlugin("captions",{structure:o,text:"subtitles",_create:function(t,i,a){var s=i.find("track").filter(':not([kind]), [kind="subtitles"], [data-kind="subtitles"], [kind="captions"], [data-kind="captions"]');t.wsclonedcheckbox=e(t).clone().attr({role:"checkbox"}).insertBefore(t),a.attr("data-tracks",s.length>1?"many":s.length),t.attr("aria-haspopup","true"),h().apply(this,arguments)}}),n.registerPlugin("chapters",{structure:o,text:"chapters",_create:function(e,i,a){var s=i.find("track").filter('[kind="chapters"], [data-kind="chapters"]');e.attr("aria-haspopup","true"),s.length&&(t._polyfill(["track"]),a.addClass("has-chapter-tracks")),h().apply(this,arguments)}}),t.ready(t.cfg.mediaelement.plugins.concat(["mediaelement","jme-base"]),function(){a.barTemplate||(a.barTemplate='<div class="play-pause-container">{{play-pause}}</div><div class="playlist-container"><div class="playlist-box"><div class="playlist-button-container">{{playlist-prev}}</div><div class="playlist-button-container">{{playlist-next}}</div></div></div><div class="currenttime-container">{{currenttime-display}}</div><div class="progress-container">{{time-slider}}</div><div class="duration-container">{{duration-display}}</div><div class="mute-container">{{mute-unmute}}</div><div class="volume-container">{{volume-slider}}</div><div class="chapters-container"><div class="chapters-controls mediamenu-wrapper">{{chapters}}</div></div><div class="subtitle-container mediamenu-wrapper"><div class="subtitle-controls">{{captions}}</div></div><div class="mediaconfig-container"><div class="mediaconfig-controls mediamenu-wrapper">{{mediaconfigmenu}}</div></div><div class="fullscreen-container">{{fullscreen}}</div>'),a.barStructure||(a.barStructure='<div class="jme-media-overlay"></div><div class="jme-controlbar'+u+'" tabindex="-1"><div class="jme-cb-box"></div></div>'),t.addReady(function(t,i){e(s,t).add(i.filter(s)).jmeProp("controlbar",!0)})}),t.ready("WINDOWLOAD",m)}),webshims.ready("jme-base DOM",function(){"use strict";function e(e){this._data=e,this.lists={},this.on("showcontrolschange",this._updateControlsClass)}function t(e,i,a){this.list=e||[],this.playlists=i,this.media=i._data.media,this.player=i._data.player,this.options=o.extend(!0,{},t.defaults,a),this.options.itemTmpl=this.options.itemTmpl.trim(),this.deferred=o.Deferred(),this._selectedIndex=-1,this._selectedItem=null,this.$rendered=null,this._detectListType(),this.autoplay(this.options.autoplay),this.deferred.done(function(){this._addEvents(this),"auto"!=this.options.defaultSelected||this.media.jmeProp("srces").length||(this.options.defaultSelected=0),this.list[this.options.defaultSelected]&&this.selectedIndex(this.options.defaultSelected),this._fire("addlist")})}function i(e){return e.description=e.description||e.content,e.srces=[],(e.mediaGroups||[]).forEach(function(t){(t.contents||[]).forEach(function(t){t.src=t.src||t.url,e.srces.push(t)})}),e}function a(){return{src:o.attr(this,"href"),srclang:o.attr(this,"lang"),label:o.attr(this,"data-label")}}function s(){return{src:o.attr(this,"url")||o.attr(this,"href"),type:o.attr(this,"type")}}function n(){return 1==this.nodeType}var r=window.webshims,o=r.$,l=o.jme,d=0,u='<button class="{%class%}" type="button" aria-label="{%text%}"></button>';o.extend(e.prototype,{on:function(){o.fn.on.apply(o(this),arguments)},off:function(){o.fn.off.apply(o(this),arguments)},_getListId:function(e){var t;return t="string"==typeof e?e:e.id},_updateControlsClass:function(){this._data.player[this.getShowcontrolsList()?"addClass":"removeClass"]("has-playlist")},add:function(e,i){return e=new t(e,this,i),e.id||(d++,e.id="list-"+d),this.lists[e.id]=e,e.options.showcontrols&&this._data.player.addClass("has-playlist"),e},remove:function(e){var t=this._getListId(e);this.lists[t]&&(this.lists[t]._remove(),delete this.lists[t]),this.getShowcontrolsList()||this._data.player.removeClass("has-playlist")},getAutoplayList:function(){var e=null;return o.each(this.lists,function(t,i){return i.options.autoplay?(e=i,!1):void 0}),e},getShowcontrolsList:function(){var e=null;return o.each(this.lists,function(t,i){return i.options.showcontrols?(e=i,!1):void 0}),e}}),t.getText=function(e){return e.attr("content")||(e.text()||"").trim()},t.getUrl=function(e){return e.attr("content")||e.attr("url")||e.attr("href")||e.attr("src")||(e.text()||"").trim()},t.defaults={loop:!1,autoplay:!1,defaultSelected:"auto",addItemEvents:!0,showcontrols:!0,ajax:{},itemTmpl:'<li class="list-item"><% if(typeof poster == "string" && poster) {%><img src="<%=poster%>" /><% }%><h3><%=title%></h3><% if(typeof description == "string" && description) {%><div class="item-description"><%=description%></div><% }%></li>',renderer:function(e,t){return o.jme.tmpl(t,e)},mapDom:function(e){return{title:t.getText(o('[itemprop="name"], h1, h2, h3, h4, h5, h6, a',e)),srces:o('[itemprop="contentUrl"], a[type^="video"], a[type^="audio"]',e).map(function(){var i,a={src:t.getUrl(o(this))};return i="a"==this.nodeName.toLowerCase()?o.prop(this,"type"):t.getText(o('[itemprop="encodingFormat"]',e)),i&&(a.type=i),i=o.attr(this,"data-media"),i&&(a.media=i),a}).get(),tracks:o('a[type="text/vtt"]').map(a).get(),poster:t.getUrl(o('[itemprop="thumbnailUrl"], a[type^="image"], img',e))||null,description:t.getText(o('[itemprop="description"], .item-description, p',e))||null}},mapUrl:function(e,n){o.ajax(o.extend(e,{success:function(e){var r;o.isArray(e)?r=e:e.responseData&&e.responseData.feed?(e=e.responseData.feed,r=(e.entries||[]).map(i)):(r=[],o("item",e).each(function(){var e=o("enclosure, media\\:content",this).filter('[type^="video"], [type^="audio"]').map(s).get();e.length&&r.push({title:o("title",this).html(),srces:e,publishedDate:o("pubDate",this).html()||null,description:o("description",this).text()||null,poster:t.getUrl(o('itunes\\:image, media\\:thumbnail, enclosure[type^="image"], media\\:content[type^="image"]',this))||null,author:o("itunes\\:author",this).html()||null,duration:o("itunes\\:duration",this).html()||null,tracks:o("media\\:subTitle",this).map(a).get()||null})})),r!=e&&(r.fullData=e),n(r)}}))}},o.extend(t.prototype,{on:function(){o.fn.on.apply(o(this),arguments)},off:function(){o.fn.off.apply(o(this),arguments)},_detectListType:function(){var e;return"string"==typeof this.list?(this._createListFromUrl(),void 0):(this.list.nodeName||this.list.length>0&&this.list[0].nodeName?this._createListFromDom():this.list.responseData&&this.list.responseData.feed&&(e=this.list.responseData.feed,this.list=(e.entries||[]).map(i),this.list.fullData=e),this.deferred.resolveWith(this),void 0)},_createListFromUrl:function(){var e=this;this.options.ajax.url=this.list,this.options.mapUrl(this.options.ajax,function(t){e.list=t,e.deferred.resolveWith(e)})},_createListFromDom:function(){var e=this;this.$rendered=o(this.list).eq(0),this.list=[],this.$rendered&&(this._addDomList(),this.list=this.$rendered.children().map(function(){return e._createItemFromDom(this)}).get())},_createItemFromDom:function(e){var t=this.options.mapDom(e);return this._addItemData(t,e),t},_fire:function(e,t){var e=o.Event(e);o(this).triggerHandler(e,t),o(this.playlists).triggerHandler(e,o.merge([{list:this}],t||[])),this.$rendered&&this.$rendered.triggerHandler(e,t)},_addDomList:function(){this.$rendered.attr({"data-autoplay":this.options.autoplay,"data-loop":this.options.loop}).addClass("media-playlist").data("playlist",this)},_addItemData:function(e,t){var i=this;e.$item=o(t).data("itemData",e),e==this._selectedItem&&e.$item.addClass("selected-item"),this.options.addItemEvents&&e.$item.on("click.playlist",function(t){return i.options.addItemEvents?(i.playItem(e,t),!1):void 0})},_addEvents:function(e){var t=e.options,i=function(i){t.autoplay&&e.playNext(i)};this.media.on("ended",i),this._remove=function(){e.media.off("ended",i),e.autoplay(!1),e.$rendered&&e.$rendered.remove(),e._fire("removelist")}},_remove:function(){this._fire("removelist")},render:function(e){this.$rendered?e(this.$rendered,this.player,this):this.deferred.done(function(){var t,i=this,a=[];if(!this.$rendered){switch(o.each(this.list,function(e,t){var s=o(o.parseHTML(i.options.renderer(t,i.options.itemTmpl))).filter(n)[0];i._addItemData(t,s),a.push(s)}),t=(a[0]&&a[0].nodeName||"").toLowerCase()){case"li":this.$rendered=o.parseHTML("<ul />");break;case"option":this.$rendered=o.parseHTML("<select />");break;default:this.$rendered=o.parseHTML("<div />")}this.$rendered=o(this.$rendered).html(a),this._addDomList()}e(this.$rendered,this.player,this)})},_loadItem:function(e){var t=this.media;t.attr("poster",e.poster||""),o("track",t).remove(),o.each(e.tracks||[],function(e,i){o("<track />").attr(i).appendTo(t)}),e.srces||(e.srces=e),t.jmeProp("srces",e.srces)},_getItem:function(e){return e&&(e.nodeName||e.jquery||"string"==typeof e)&&(e=o(e).data("itemData")),e},playItem:function(e,t){var i;this.selectedItem(e,t),e&&(i=this.media.play(),setTimeout(function(){i.play()},9))},selectedIndex:function(e,t){return arguments.length?(this.selectedItem(this.list[e],t),void 0):this._selectedIndex},selectedItem:function(e,t){var i,a;return arguments.length?(a=-1,e=this._getItem(e),e&&o.each(this.list,function(t){return e==this?(a=t,!1):void 0}),a>=0&&this._loadItem(this.list[a]),a!=this._selectedIndex&&(i=this._selectedItem||null,i&&i.$item&&i.$item.removeClass("selected-item"),this._selectedItem=this.list[a]||null,this._selectedIndex=a,this._selectedItem&&this._selectedItem.$item&&this._selectedItem.$item.addClass("selected-item"),i!==this._selectedItem&&this._fire("itemchange",[{oldItem:i,from:t||null}])),void 0):this._selectedItem},playNext:function(){var e=this.getNext();e&&this.playItem(e)},playPrev:function(){var e=this.getPrev();e&&this.playItem(e)},getNext:function(){var e=this._selectedIndex+1;return this.list[e]||(this.options.loop?this.list[0]:null)},getPrev:function(){var e=this._selectedIndex-1;return this.list[e]||(this.options.loop?this.list[this.list.length-1]:null)}}),[{name:"autoplay",fn:"getAutoplayList"},{name:"showcontrols",fn:"getShowcontrolsList"},{name:"loop"}].forEach(function(e){t.prototype[e.name]=function(t){var i;return arguments.length?(t=!!t,t&&e.fn&&(i=this.playlists[e.fn](),i&&i!=this&&i[e.name](!1)),this.options[e.name]!=t&&(this.options[e.name]=t,this.$rendered&&this.$rendered.attr("data-"+e.name,t),this._fire(e.name+"change")),void 0):this.options[e.name]}}),l.defineProp("playlists",{writable:!1,get:function(t){var i=o.jme.data(t);return t!=i.player[0]?null:(i.playlists||(i.playlists=new e(i)),i.playlists)}}),l.defineMethod("addPlaylist",function(e,t){var i=o.jme.prop(this,"playlists");return i&&i.add?i.add(e,t):null}),[{name:"playlist-prev",text:"previous",get:"getPrev",play:"playPrev"},{name:"playlist-next",text:"next",get:"getNext",play:"playNext"}].forEach(function(e){o.jme.registerPlugin(e.name,{structure:u,text:e.text,_create:function(t,i,a){function s(){var i=r[e.get]();i?t.prop({disabled:!1,title:i.title}):t.prop({disabled:!0,title:""})}function n(){var e=o.getShowcontrolsList();e!=r&&(r&&r.off("itemchange",s),r=e,r&&(r.on("itemchange",s),s()))}var r,o=a.jmeProp("playlists");t.on("click",function(){r&&r[e.play]()}),o.on({"addlist removelist showcontrolschange":n}),n()}})}),function(){var e={};o.jme.tmpl=function(t,i){return e[t]||(e[t]=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');")),i?e[t](i):e[t]}}(),o.jme.Playlist=t,r.isReady("playlist",!0)});